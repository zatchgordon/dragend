<!DOCTYPE html>
<html>
<head>

  <title>dragend JS &ndash; a touch ready, full responsive, content swipe script</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="src/foundation.min.css">
  <link rel="stylesheet" media="all" href="src/styles.css">

  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Arvo:400,700' rel='stylesheet' type='text/css'>

  <script type="text/javascript" src="src/lib/modernizr.js"></script>

</head>
<body>

  <div id="contend">
    <div id="swipe-container">
     
          <div class="page-content">
              <div class="content">
                <div id="demo">
                  <ul>

                    <!-- First Page -->
                    <li class="dragend-page">
                      
                        <div class="row landingPage">
                          <article>
                          <div class="small-6 medium-6 large-6 small-centered medium-centered large-centered columns">
                            <img src="img/faitblue.svg">
                          </div>
                          </article>
                        </div>  
                                       
                    </li>

                    <!-- Second Page -->
                    <li class="dragend-page">
                      <!-- Most computers see this -->
                          <div class="row regularHeight">
                              <article id = "firstArticle">
                                  <div class="row">
                                      <div class="row infoPageLogo">
                                          <div class="small-7 medium-5 large-3 small-centered medium-centered large-centered columns">
                                              <img src="img/faitblue.svg">
                                          </div>
                                      </div>

                                      <div class="row info">
                                          <div class="hide-for-small-only medium-4 large-3 text-center small-offset-1 medium-offset-1 large-offset-1 text-center columns">
                                              <img src="img/faitNotificationMockUp.png">
                                          </div>

                                          <div class="small-6 medium-6 large-6 columns text-center">

                                              <!-- First Page Logo -->
                                              <div class="row">
                                                  <div class="small-8 medium-6 large-4 medium-offset-2 large-offset-4 text-center columns">
                                                      <img src="img/faitLogo.svg">
                                                  </div>
                                              </div>
                                              <!-- First Page Title -->
                                              <div class="row">
                                                  <h1 class="small-12 medium-1 large-12 columns text-center blue">What Is FAIT?</h1>
                                              </div>
                                          </div>


                                      </div>

                                      <div class="row">
                                          <div class="small-2 medium-1 large-1 small-centered medium-centered large-centered text-center columns">
                                              <img id="distanceArrow" class = "arrow infoPageArrow" src="img/faitFirstPageArrow.svg">
                                          </div>
                                      </div>



                                  </div>
                              </article>
                          </div>
                        <!-- FOR LANDSCAPE MODE -->
                           <div class="row regularHeight hide">
                              <article>
                                  <div class="row">

                      </li>
                    <!-- Third Page -->
                    <li class="dragend-page">
                      <article>
                        <div class="row">
                            <div class="small-1 medium-1 large-1 green columns">1
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">2
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">3
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">4
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">5
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">6
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">7
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">8
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">9
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">10
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">11
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">12
                            </div>
                    </div>
                      </article>  
                  </ul>
                </div>
            
            </div>
          </div>
       

    </div>
  </div>

<script type="text/javascript" src="../lib/jquery.min.js"></script>
<script src="./src/lib/jquery.mousewheel.js"></script>
  
  <script type="text/javascript" src="../../dist/dragend.min.js"></script>

  <script>
    //CALLED WHEN THE PAGE LOADS AND 
    //EVERY TIME IT IS RESIZED
    //CHANGES EACH SECTION TO MATCH SCREEN SIZE
      function resizeDiv() {
         vpw = $(window).width();
         vph = $(window).height();

                  $("#demo").css({'height': vph + 'px'});
         article = $("#firstArticle")
         articledist = article.offset().top;
         articleheight = $("#firstArticle").height();
         fullarticle = articledist + articleheight;
         arrowPlace = vph - fullarticle - 50;



         console.log("height: " + vph);
         console.log("width: " + vpw);
        console.log("articleheight: " + articleheight);
         console.log("articledist: " + articledist);
         console.log("max: " + arrowPlace);



         $('.infoPageArrow').css('bottom', -arrowPlace);

         if(vpw>800){
            //SHORT HEIGHT REMOVE THE TOP COLORED PAGE
               if(vph < 716)
                  $(".infoPageLogo").addClass("hide");
               if(vph > 716)
                  $(".infoPageLogo").removeClass("hide");
            //SHORTER HEIGHT HIDE THE REGULAR SCREEN AND SHOW THE TABLET SCREEEN
               if(vph < 614)
                  $(".regularHeight").addClass("hide");
               if(vph > 614)
                  $(".regularHeight").removeClass("hide");
          }
            if(vph > 614)
                  $(".regularHeight").removeClass("hide");
    }

    //CHECK DIRECTION OF SCROLL AND SCROLL THAT DIRECTION
      function scroll(){
         $('#demo').mousewheel(function(event, delta) {
          if (delta=="-1"){$("#demo").dragend("up");}
          if (delta=="1"){$("#demo").dragend("down");}
            $('#demo').unbind("mousewheel");
            setTimeout(function(){
                  scroll()
            },300);

            return false;
                    });
      }


    $(function() {
      scroll();
      //FIT TO SCREEN EVEN ON RESIZE
        resizeDiv();
        window.onresize = function(event) {
          resizeDiv();
        }
      //INITIALIZE DRAGGING
         $("#demo").dragend({
        direction: "vertical",
        stopPropagation: true,
        scribe: "0px",
        duration: "500"
      });

      //INITIALIZE MOUSWHEEL SCROLLING    
       
      //INITIALIZE BUTTONS
          $("button").click(function(e){
            
            var page = $(this).attr("value");
           
           $("#demo").dragend({
        scrollToPage: page,
        direction: "vertical",
        stopPropagation: true,
        scribe: "0px",
        duration: "500"
      });

          });
      //SHOW PAGE AFTER LOAD
      var container = $("html");

      $(window).on("load", function() {
        container.css("opacity", 1)
      })
 
    });
  </script>

</body>
</html>
