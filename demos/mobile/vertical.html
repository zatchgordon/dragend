<!DOCTYPE html>
<html>
<head>

  <title>dragend JS &ndash; a touch ready, full responsive, content swipe script</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="src/foundation.min.css">
  <link rel="stylesheet" media="all" href="src/styles.css">

  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Arvo:400,700' rel='stylesheet' type='text/css'>

  <script type="text/javascript" src="src/lib/modernizr.js"></script>

</head>
<body>

  <div id="contend">
    <div id="swipe-container">
     
          <div class="page-content">
              <div class="content">
                <div id="demo">
                  <ul>
                    <li class="dragend-page blue">
                      <article>
                        <h1>This is page 1</h1>
                        <button value="2"> go down</button>
                      </article>                 
                    </li>
                    <li class="dragend-page red">
                      <article>
                     <h1>This is page 2</h1>
                     <button value="3">go down</button> 
                     <button value="1">go up</button> 
                     </article>    
                    </li>
                    <li class="dragend-page green">
                      <article>
                      <h1>This is page 3</h1> 
                      <button value="2">go up</button> 
                      <button value="1">Go To Top</button> 
                      </article>  
                  </ul>
                </div>
            
            </div>
          </div>
       

    </div>
  </div>

<script type="text/javascript" src="../lib/jquery.min.js"></script>
<script src="./src/lib/jquery.mousewheel.js"></script>
  
  <script type="text/javascript" src="../../dist/dragend.min.js"></script>

  <script>

      function resizeDiv() {
         vpw = $(window).width();
         vph = $(window).height();
         $("#demo").css({'height': vph + 'px'});
    }
      function scroll(){
         $('#demo').mousewheel(function(event, delta) {
          if (delta=="-1"){$("#demo").dragend("up");}
          if (delta=="1"){$("#demo").dragend("down");}
            $('#demo').unbind("mousewheel");
            setTimeout(function(){
                  scroll()
            },300);

            return false;
                    });
      }


    $(function() {
      scroll();
      //FIT TO SCREEN EVEN ON RESIZE
        resizeDiv();
        window.onresize = function(event) {
          resizeDiv();
        }
      //INITIALIZE DRAGGING
         $("#demo").dragend({
        direction: "vertical",
        stopPropagation: true,
        scribe: "0px",
        duration: "500"
      });

      //INITIALIZE MOUSWHEEL SCROLLING    
       
      //INITIALIZE BUTTONS
          $("button").click(function(e){
            
            var page = $(this).attr("value");
           
           $("#demo").dragend({
        scrollToPage: page,
        direction: "vertical",
        stopPropagation: true,
        scribe: "0px",
        duration: "500"
      });

          });
      //SHOW PAGE AFTER LOAD
      var container = $("html");

      $(window).on("load", function() {
        container.css("opacity", 1)
      })
 
    });
  </script>

</body>
</html>
