<!DOCTYPE html>
<html>
<head>

  <title>dragend JS &ndash; a touch ready, full responsive, content swipe script</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="src/foundation.min.css">
  <link rel="stylesheet" media="all" href="src/styles.css">

  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Arvo:400,700' rel='stylesheet' type='text/css'>

  <script type="text/javascript" src="src/lib/modernizr.js"></script>

</head>
<body>

  <div id="contend">
    <div id="swipe-container">
     
          <div class="page-content">
              <div class="content">
                <div id="demo">
                  <ul>

                    <!-- First Page -->
                    <li class="dragend-page">
                      
                        <div class="row landingPage">
                          <article>
                          <div class="small-6 medium-6 large-6 small-centered medium-centered large-centered columns">
                            <img src="img/faitblue.svg">
                          </div>
                          </article>
                        </div>  
                                       
                    </li>

                    <!-- Second Page -->
                    <li class="dragend-page">
      
                          <div class="row portraitHeight">
                              <article id = "firstArticle">
                                  <div class="row">
                                      <div class="row infoPageLogo">
                                          <div class="small-7 medium-5 large-3 small-centered medium-centered large-centered columns">
                                              <img class = "topFait" src="img/faitblue.svg">
                                          </div>
                                      </div>
                                    
                                      <div class="row">
                                      <!-- First Landscape page Phone Example (left side) -->
                                          <div class="hide-for-small-only small-0 medium-4 large-3 text-center small-offset-1 medium-offset-1 large-offset-1 text-center leftSide columns">
                                              <img class = "firstLandscapePhone" src="img/faitNotificationMockUp.png">
                                              <h1 class="small-12 medium-12 large-12 columns text-center hiddenHeader hide blue">What Is FAIT?</h1>
                                          </div>
                                        <!-- End First Landsape left side -->

                                        <!-- First Landscape Page Right Side -->
                                          <div class="small-12 medium-6 large-6 columns text-center rightSide">

                                              <!-- First Landscape Page Logo -->
                                              <div class="row landscapeLogo">
                                                  <div class="small-8 medium-6 large-4 medium-offset-3 small-offset-2 large-offset-4 text-center columns">
                                                      <img src="img/faitLogo.svg">
                                                  </div>
                                              </div>
                                              <!-- First Landscape Page Title -->
                                              <div class="row">
                                                  <h1 class="small-12 medium-12 large-12 columns text-center showHeader blue">What Is FAIT?</h1>
                                              </div>
                                              <div class="row">
                                                  <p class="small-12 medium-12 large-12 columns text-center">
                                                      FAIT is a mobile experience that introduces you to amazing people who like the things that you're into when you're out adventuring new areas.
                                                  </p>
                                              </div>
                                          </div>
                                        <!-- End First Lanscape Right Side -->


                                  </div>
                                  <div class="row">

                                  </div>
                              </article>
                          </div>

                      </li>
                    <!-- Third Page -->
                    <li class="dragend-page">
                      <article>
                        <div class="row">
                            <div class="small-1 medium-1 large-1 green columns">1
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">2
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">3
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">4
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">5
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">6
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">7
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">8
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">9
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">10
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">11
                            </div>
                            <div class="small-1 medium-1 large-1 green columns">12
                            </div>
                    </div>
                      </article>  
                  </ul>
                </div>
            
            </div>
          </div>
       

    </div>
  </div>

<script type="text/javascript" src="../lib/jquery.min.js"></script>
<script src="./src/lib/jquery.mousewheel.js"></script>
  
  <script type="text/javascript" src="../../dist/dragend.min.js"></script>

  <script>
    //CALLED WHEN THE PAGE LOADS AND 
    //EVERY TIME IT IS RESIZED
    //CHANGES EACH SECTION TO MATCH SCREEN SIZE
      function centerVertical(e){
          ph = e.parent().height();
          height = e.height();
          topFait = ($(".topFait").height())/1.5;
          console.log("faitheight: " + topFait)
          position = (vph / 2) - (height / 2);
          position-=topFait;
          e.css('margin-top', position + "px");
          return 0;

      }
    //Puts element at the bottom the page
      function bottomVertical(e){
        ph = e.parent().height();
        height = e.height();

        position = vph - height;

        e.css('margin-top', position + "px");
      }



    //Gets the screen height and width.  Place elemtents based on those numbers
      function resizeDiv() {
         vpw = $(window).width();
         vph = $(window).height();

         $("#demo").css({'height': vph + 'px'});
         topFait = $(".topFait");

         console.log("height: " + vph);
         console.log("width: " + vpw);
         
         
        //LANDSCAPE MODE
         if(vph < 614 && vpw>614){
            //SHORTER HEIGHT HIDE THE REGULAR SCREEN AND SHOW THE TABLET SCREEEN
                  topFait.addClass("hide");
              
                if(vph < 517){
                  $(".firstLandscapePhone").attr('src', 'img/faitLogo.svg')
                  $(".landscapeLogo").addClass("hide");
                  centerVertical($(".firstLandscapePhone"));

                
                }
                else{
                  $(".firstLandscapePhone").attr('src', 'img/faitNotificationMockUp.png');
                  $(".landscapeLogo").removeClass("hide");
                  centerVertical($(".firstLandscapePhone"));

                  
                }
                if(vph < 270){
                    $(".hiddenHeader").removeClass("hide");
                    $(".firstLandscapePhone").addClass("hide");
                    $(".showHeader").addClass("hide");
                    centerVertical($(".hiddenHeader"));
                }
                else{
                    $(".hiddenHeader").addClass("hide");
                    $(".firstLandscapePhone").removeClass("hide");
                    $(".showHeader").removeClass("hide");
                }


          }
        //PORTRAIT MODE
          else{
                  centerVertical($(".firstLandscapePhone"));
                  $(".landscapeHeight").addClass("hide");
                  $(".portraitHeight").removeClass("hide");
                  
                  if(vph < 477){
                      $(".topFait").addClass("hide");
                  }
                  else{
                      $(".topFait").removeClass("hide");
                  }
                  if(vph < 400){
                      $(".landscapeLogo").addClass("hide");
                  }
                  else{
                      $(".landscapeLogo").removeClass("hide");
                  }

          }

              centerVertical($(".rightSide"));

    }

    //CHECK DIRECTION OF SCROLL AND SCROLL THAT DIRECTION
      function scroll(){
         $('#demo').mousewheel(function(event, delta) {


          if (delta=="-1"){$("#demo").dragend("up");}
          if (delta=="1"){$("#demo").dragend("down");}
            $('#demo').unbind("mousewheel");
            setTimeout(function(){
                  scroll()
            },300);

            return false;
           
                    });
      }


    $(function() {
      var lastTime = 0;
      scroll();
      //FIT TO SCREEN EVEN ON RESIZE
        
        window.onresize = function(event) {
          resizeDiv();
        }
      //INITIALIZE DRAGGING
         $("#demo").dragend({
        direction: "vertical",
        keyboardNavigation: true,
        stopPropagation: true,
        scribe: "0px",
        duration: "500"
      });

      //INITIALIZE MOUSWHEEL SCROLLING    
       
      //INITIALIZE BUTTONS
          $("button").click(function(e){
            
            var page = $(this).attr("value");
           
           $("#demo").dragend({
        scrollToPage: page,
        direction: "vertical",
        keyboardNavigation: true,
        stopPropagation: true,
        scribe: "0px",
        duration: "500"
      });

          });
      //SHOW PAGE AFTER LOAD
      var container = $("html");

      $(window).on("load", function() {
        resizeDiv();
        container.css("opacity", 1)
      })
      
    });
  </script>

</body>
</html>
